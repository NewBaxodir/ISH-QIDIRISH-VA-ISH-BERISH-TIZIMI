{% extends 'base.html' %}
{% load static %}


{% block menu %}
<style type="text/css">

@media screen and (max-width: 767px){
.menu_icon{
  display: none;
}

.style_phone{
  display: none;
}
}
</style>

<!-- header -->
<header class="" style="border-radius: 0px; font-family: 'Baloo Chettan 2';">
  <nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm p-3 bg-body rounded-start">
    <div class="container-fluid col-lg-11 ms-auto">
      
    <a class="navbar-brand landing-brand" href="{% url 'company' %}" style="font-weight: bold; font-size: 20px; color: rgb(0, 74, 150);">
      Master<font style="color: rgb(243,147,0);">UZ</font> </a>
      
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
    </button>


  
   <!-- **************************** -->
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
  <ul class="navbar-nav">
  <li class="nav-item">
  <a class="nav-link active" href="{% url 'jobs' %}">Вакансию</a>
  </li>
  </ul>
  </div>


    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ms-auto mx-2">
      <li class="nav-item menu_icon">
      <a class="nav-link" href="#"><i class="fas fa-user-circle account_logatip"></i></a>
      </li>
      <li class="nav-item dropdown">
      <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
      {{request.user.last_name}} {{request.user.first_name}}
      </a>
      <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
      <li><a class="dropdown-item" href="{% url 'company_info' %}">Настройки аккаунта</a></li>
      <li><a class="dropdown-item" href="{% url 'logout' %}">Выход</a></li>
      </ul>
      </li>
      </ul>
    </div>

    
  </div>
  </nav>
</header>
<!-- header -->
{% endblock %}




{% block content %}

<div class="container-fluid">
<div class="container"> 
<div class="row">

<div class="col-lg-12 mt-5">
<h6 class="text-muted mb-4">Новая вакансия</h6>

<a href="#" style="text-decoration: none;">
<button type="button" class="btn btn-primary btn-sm mb-2 rounded-1">Загрузить из файла</button>
</a>
</div>


<form method="post" action="" id="personForm" data-cities-url="{% url 'ajax_load_cities' %}"  data-citiess-url="{% url 'ajax_load_citiess' %}">
{% csrf_token %}
<div class="col-lg-12 mt-5">
<h6 class="mb-4">Основная информация</h6>

<!-- ↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕ -->
  <div class="mb-3 row">
  <label for="staticEmail" class="col-sm-2 col-form-label"><small>Должность</small></label>
  <div class="col-lg-4">
  {{form.job_title}}
  </div>
  </div>
<!-- ↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕ -->


<!-- ↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕ -->
  <div class="mb-3 row">
  <label for="staticEmail" class="col-sm-2 col-form-label"><small>Код дела</small></label>
  <div class="col-lg-4">
  {{form.job_code}}
  </div>
  </div>
<!-- ↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕ -->




<!-- ↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕ -->
  <div class="mb-3 row mt-4">
  <label for="staticEmail" class="col-sm-2 col-form-label"><small>Специальность</small></label>
  <div class="col-lg-4">
   <a href="#" data-bs-toggle="modal" data-bs-target="#exampleModal">Укажите профессиональные области</a>
  </div>
  </div>


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
<div class="modal-dialog modal-lg">
<div class="modal-content rounded-0">
<div class="modal-header">
<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
</div>
<div class="modal-body">

  <div class="mb-4 row">
  <label for="inputPassword" class="col-form-label"><small>Профессиональные отделы</small></label>
  <div class="col-sm-12">
   {{form.profess}} 
  </div>
  </div>

  <div class="mb-4 row">
  <label for="inputPassword" class="col-form-label"><small>Специальности</small></label>
  <div class="col-sm-12">
   {{form.thchopr}}
  </div>
  </div>
  
</div>
<div class="modal-footer">
<button type="button" class="btn btn-secondary mb-2 rounded-1" data-bs-dismiss="modal">Закрывать</button>
<button type="button" class="btn btn-primary mb-2  rounded-1" data-bs-dismiss="modal">Сохранить</button>
</div>
</div>
</div>
</div>

<!-- ↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕ -->




<!-- ↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕ -->
  <div class="mb-3 row">
  <label for="staticEmail" class="col-sm-2 col-form-label"><small>Описание</small></label>
  <div class="col-lg-4">

  {{form.media}}
  {{form.description}}

  </div>
  </div>
<!-- ↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕ -->



<!-- ↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕ -->
  <div class="mb-3 row">
  <label for="staticEmail" class="col-sm-2 col-form-label"><small>Ориентировочный уровень дохода в месяц или загруженность</small></label>
  <div class="col-lg-2">
  {{form.thesalaryfrom}}
  </div>
  <div class="col-lg-2">
   {{form.thesalaryto}}
  </div>
  <div class="col-lg-1">
   {{form.moneys}}  
  </div>

  </div>
<!-- ↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕ -->




<!-- ↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕ -->
  <div class="mb-3 row">
  <label for="staticEmail" class="col-sm-2 col-form-label"><small>Статус финансирования</small></label>
  <div class="col-lg-4">
  {{form.choosemo}}
  </div>
  </div>
<!-- ↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕ -->



<h6 class="mb-4">Рабочее место</h6>

<!-- ↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕ -->
  <div class="mb-5 row">
  <label for="inputPassword" class="col-sm-2 col-form-label"><small>Адрес работы</small></label>
  <div class="col-sm-4">
    
  <div class="mb-2 row">
  <label for="inputPassword" class="col-sm-2 col-lg-12 col-form-label"><small>Выберите область</small></label>
  <div class="col-sm-12">
  {{form.provinces}}
  </div>
  </div>

  <div class="mb-2 row">
  <label for="inputPassword" class="col-sm-2 col-lg-12 col-form-label"><small>Выберите район или город</small></label>
  <div class="col-sm-12">
   {{form.region}}
  </div>
  </div>

  </div>
  </div>

<!-- ↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕ -->



<!-- ↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕ -->
  <div class="mb-3 row">
  <label for="staticEmail" class="col-sm-2 col-form-label"><small>Введите адрес работы или код географического местоположения</small></label>
  <div class="col-lg-4">
  {{form.geolocation}}
  </div>
  </div>
<!-- ↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕ -->


<h6 class="mb-4">Дополнительный</h6>

<!-- ↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕ -->
  <div class="mb-3 row">
  <label for="staticEmail" class="col-sm-2 col-form-label"><small>Тип работы</small></label>
  <div class="col-lg-4">
  {{form.emptype}}
  </div>
  </div>
<!-- ↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕ -->

<!-- ↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕ -->
  <div class="mb-3 row">
  <label for="staticEmail" class="col-sm-2 col-form-label"><small>Тип занятости</small></label>
  <div class="col-lg-4">
  {{form.worhou}}
  </div>
  </div>
<!-- ↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕ -->


<h6 class="mb-4">Контактная информация</h6>


<!-- ↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕ -->
  <div class="mb-3 row">
  <label for="staticEmail" class="col-sm-2 col-form-label"><small>Имя Фамилия</small></label>
  <div class="col-lg-4">
  {{form.name}}
  </div>
  </div>
<!-- ↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕ -->

<script type="text/javascript"> 
  var name = ("{{request.user.first_name}} {{request.user.last_name}}");
  document.getElementById("id_name").value = name; 
</script>


<!-- ↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕ -->
  <div class="mb-3 row">
  <label for="staticEmail" class="col-sm-2 col-form-label"><small>Номер телефона</small></label>
  <div class="col-lg-4">
  {{form.phone}}
  </div>
  </div>
<!-- ↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕ -->



<!-- ↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕ -->
  <div class="mb-3 row">
  <label for="staticEmail" class="col-sm-2 col-form-label"><small>Удобное время с вами поговорить</small></label>
  <div class="col-lg-4">
  {{form.comment}}
  </div>
  </div>
<!-- ↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕↕ -->



<button type="submit" class="btn btn-primary rounded-1 mt-5 mb-5">Подтвердить</button>


</div>
</form>


</div>
</div>
</div>

{% endblock %}


{% block javascript %}
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script>
    $("#id_provinces").change(function () {
        const url = $("#personForm").attr("data-cities-url");
        const countryId = $(this).val();
        $.ajax({
            url: url,
            data: {
                'user_id': countryId
            },
            success: function (data) {
                $("#id_region").html(data);
            }
        });
    });

        $("#id_profess").change(function () {
        const url = $("#personForm").attr("data-citiess-url");
        const countryId = $(this).val();
        $.ajax({
            url: url,
            data: {
                'user_id': countryId
            },
            success: function (data) {
                $("#id_thchopr").html(data);
            }
        });
    });
</script>


{% endblock %}